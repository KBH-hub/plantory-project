<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Plantory Header</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/header.css}">
</head>

<body>

<th:block th:fragment="headerBar">
    <div class="ph-wrapper">
        <nav class="bg-white px-4 shadow-sm d-flex align-items-center sticky-top ph-nav" style="height:80px; min-width:1470px;">

            <div class="d-flex align-items-center justify-content-between w-100" style="min-width:1450px;">

                <!-- 왼쪽 로고 -->
                <a th:href="@{/dashboard}" class="ph-logo">
                    <img th:src="@{/image/plantory_logo.png}" alt="Plantory Logo" class="ph-logo-img">
                </a>

                <!-- 중앙 메뉴 -->
                <ul class="navbar-nav d-flex flex-row gap-4 mx-3 flex-grow-1 justify-content-center ph-menu">
                    <!-- 커뮤니티 -->
                    <li class="nav-item dropdown ph-menu-item">
                        <a class="nav-link fw-bold fs-5 ph-menu-text" href="#" data-bs-toggle="dropdown">커뮤니티</a>
                        <ul class="dropdown-menu ph-dropdown">
                            <li><a class="dropdown-item ph-dropdown-item" th:href="@{/sharingList}">나눔 게시판</a></li>
                            <li><a class="dropdown-item ph-dropdown-item" th:href="@{/questionList}">질문 게시판</a></li>
                        </ul>
                    </li>

                    <!-- 식물사전 -->
                    <li class="nav-item dropdown ph-menu-item">
                        <a class="nav-link fw-bold fs-5 ph-menu-text" href="#" data-bs-toggle="dropdown">식물사전</a>
                        <ul class="dropdown-menu ph-dropdown">
                            <li><a class="dropdown-item ph-dropdown-item" href="#">실내 식물</a></li>
                            <li><a class="dropdown-item ph-dropdown-item" href="#">건조 식물</a></li>
                        </ul>
                    </li>

                    <!-- 나의 식물 -->
                    <li class="nav-item dropdown ph-menu-item">
                        <a class="nav-link fw-bold fs-5 ph-menu-text" href="#" data-bs-toggle="dropdown">나의 식물</a>
                        <ul class="dropdown-menu ph-dropdown">
                            <li><a class="dropdown-item ph-dropdown-item" href="#">식물 캘린더</a></li>
                            <li><a class="dropdown-item ph-dropdown-item" href="#">내 식물 관리</a></li>
                        </ul>
                    </li>
                </ul>

                <!-- 오른쪽 아이콘 -->
                <div class="d-flex align-items-center gap-4 ms-4 ph-right">

                    <!-- 알림 아이콘 -->
                    <div class="dropdown ph-alarm">
                        <i class="bi bi-bell fs-4 ph-alarm-icon" id="alarmDropdownBtn" data-bs-toggle="dropdown"></i>

                        <div class="dropdown-menu dropdown-menu-end p-0 border-0 shadow ph-alarm-box" id="alarmDropdown">
                            <!-- 헤더 -->
                            <div class="p-3 border-bottom d-flex justify-content-between align-items-center ph-alarm-header">
                                <h5 class="fw-bold mb-0">알림</h5>
                                <i class="bi bi-trash fs-5 ph-alarm-trash" id="alarmDeleteBtn"></i>
                            </div>

                            <!-- 알림 목록 -->
                            <div id="alarmList" class="ph-alarm-list">
                                <div class="p-3 border-bottom d-flex align-items-start ph-alarm-item">
                                    <input type="checkbox" class="form-check-input me-2 alarm-check d-none">
                                    <div class="w-100">
                                        <small class="text-secondary d-block">2025-10-27 10:42</small>
                                        <a href="#" class="fw-semibold text-dark d-block text-truncate">방토방토님의 나눔이 완료되었습니다...</a>
                                    </div>
                                </div>
                            </div>

                            <!-- Footer -->
                            <div class="d-flex justify-content-between p-2 ph-alarm-footer">
                                <button class="btn btn-light btn-sm">닫기</button>
                                <button class="btn btn-secondary btn-sm">모두 읽음</button>
                            </div>
                        </div>
                    </div>

                    <!-- 쪽지 -->
                    <i class="bi bi-envelope fs-4 ph-mail"></i>

                    <!-- 신고 -->
                    <i class="bi bi-exclamation-triangle fs-4 ph-report" data-bs-toggle="modal" data-bs-target="#reportModal"></i>

                    <!-- 프로필 -->
                    <div class="dropdown ph-profile">
                        <a class="d-flex align-items-center text-dark text-decoration-none ph-profile-btn" href="#" data-bs-toggle="dropdown">
                            <i class="bi bi-person-circle fs-3"></i>
                            <span class="ms-2">닉네임님</span>
                        </a>
                        <ul class="dropdown-menu dropdown-menu-end ph-profile-menu">
                            <li><a class="dropdown-item" th:href="@{/myProfile}">내 프로필</a></li>
                            <li><a class="dropdown-item text-danger" th:href="@{/logout}">로그아웃</a></li>
                        </ul>
                    </div>

                </div>
            </div>
        </nav>
    </div>
</th:block>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
</body>
</html>