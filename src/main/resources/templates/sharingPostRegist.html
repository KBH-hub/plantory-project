<!doctype html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>나눔 게시글 등록</title>

    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
    />
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
            rel="stylesheet"
    />
</head>

<body class="bg-light">

<div th:replace="fragments/header :: headerBar"></div>

<main class="container-fluid px-4 py-4">
    <h5 class="fw-bold mb-3">나눔 게시글 등록</h5>

    <hr class="mt-1 mb-4"/>

    <div>
        <form>

            <div class="row mb-4">
                <label class="col-sm-2 col-form-label fw-semibold small">
                    식물 이미지
                </label>
                <div class="col-sm-10 d-flex align-items-start">
                    <label
                            class="border bg-light-subtle d-flex flex-column align-items-center justify-content-center me-3"
                            style="width: 120px; height: 120px; cursor: pointer;"
                    >
                        <i class="bi bi-camera fs-3 mb-2"></i>
                        <span class="small text-muted">(0/5)</span>
                        <input type="file" accept="image/*" multiple hidden/>
                    </label>

                    <div class="small text-muted align-self-end">
                        최대 5장까지 업로드 가능합니다.
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label fw-semibold small">
                    식물 종류
                    <span class="text-danger">*</span>
                </label>
                <div class="col-sm-3 align-items-start">
                    <div class="d-flex gap-2">
                        <input
                                type="text"
                                class="form-control form-control-sm"
                                placeholder="식물 종류를 입력해 주세요."
                        />
                        <button
                                type="button"
                                class="btn btn-dark btn-sm px-3 text-nowrap"
                                data-bs-toggle="modal"
                                data-bs-target="#plantSearchModal"
                        >
                            불러오기
                        </button>
                    </div>
                </div>
            </div>

            <div class="row mb-3">
                <label class="col-sm-2 col-form-label fw-semibold small">
                    제목
                    <span class="text-danger">*</span>
                </label>
                <div class="col-sm-10">
                    <input
                            type="text"
                            class="form-control form-control-sm"
                            placeholder="제목을 입력해 주세요."
                    />
                </div>
            </div>

            <div class="row mb-4">
                <label class="col-sm-2 col-form-label fw-semibold small">
                    설명
                    <span class="text-danger">*</span>
                </label>
                <div class="col-sm-10">
                    <textarea
                            class="form-control"
                            rows="5"
                            placeholder="식물에 대한 간단한 소개를 적어주세요."
                    ></textarea>
                </div>
            </div>

            <div class="d-flex justify-content-center gap-3 pt-2">
                <button type="button" class="btn btn-secondary px-5">
                    취소
                </button>
                <button type="submit" class="btn btn-success px-5">
                    등록
                </button>
            </div>

        </form>
    </div>
</main>

<!-- 식물 검색 모달 -->
<div class="modal fade" id="plantSearchModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">

            <div class="modal-header py-2">
                <h6 class="modal-title fw-bold mb-0">식물 검색</h6>
            </div>

            <div class="modal-body">
                <div class="mb-3">
                    <label class="form-label small mb-1">식물명</label>
                    <div class="input-group input-group-sm">
                        <input type="text" class="form-control" placeholder="식물 이름을 입력하세요." />
                        <button class="input-group-text">
                          <i class="bi bi-search"></i>
                        </button>
                    </div>
                </div>
                <div class="vstack gap-2">
                    <div class="border rounded d-flex align-items-center p-2">
                        <img
                                src="https://images.pexels.com/photos/4505162/pexels-photo-4505162.jpeg?auto=compress&cs=tinysrgb&w=200"
                                alt="산세베리아"
                                class="me-2"
                                style="width: 50px; height: 50px; object-fit: cover;"
                        />
                        <div class="flex-grow-1 small">
                            산세베리아
                        </div>
                        <button
                                type="button"
                                class="btn btn-success btn-sm px-3 text-nowrap"
                                data-bs-dismiss="modal"
                        >
                            선택
                        </button>
                    </div>
                    <div class="border rounded d-flex align-items-center p-2">
                        <img
                                src="https://images.pexels.com/photos/3076899/pexels-photo-3076899.jpeg?auto=compress&cs=tinysrgb&w=200"
                                alt="산세베리아 골든 하나"
                                class="me-2"
                                style="width: 50px; height: 50px; object-fit: cover;"
                        />
                        <div class="flex-grow-1 small">
                            산세베리아 ‘골든 하나’
                        </div>
                        <button
                                type="button"
                                class="btn btn-success btn-sm px-3 text-nowrap"
                                data-bs-dismiss="modal"
                        >
                            선택
                        </button>
                    </div>
                    <button type="button" class="btn btn-secondary btn-sm px-3 py-1 align-self-center" data-bs-dismiss="modal">
                        취소
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.querySelectorAll('.plant-select-btn').forEach(function (btn) {
        btn.addEventListener('click', function () {
            const name = this.dataset.plantName;
            const input = document.querySelector('input[placeholder="식물 종류를 입력해 주세요."]');
            if (input) {
                input.value = name;
            }
        });
    });
</script>

</html>
