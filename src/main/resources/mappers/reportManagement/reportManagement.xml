<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zero.plantory.domain.reportManagement.mapper.ReportManagementMapper">
    <select id="selectReportList" resultType="com.zero.plantory.global.vo.ReportVO">
        SELECT
            r.report_id,
            reporter.membername AS reporter_name,
            target.membername AS target_name,
            admin.membername AS admin_name,
            r.content,
            r.status,
            r.created_at
        FROM report r
                 JOIN member reporter ON r.reporter_id = reporter.member_id
                 JOIN member target ON r.target_member_id = target.member_id
                 LEFT JOIN member admin ON r.admin_id = admin.member_id
        WHERE r.del_flag IS NULL
        ORDER BY r.created_at DESC
            LIMIT #{limit} OFFSET #{offset};
    </select>
</mapper>